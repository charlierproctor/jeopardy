<script src="http://code.jquery.com/qunit/qunit-1.14.0.js"></script>
  <link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.14.0.css">

  <style>
  pre {
  	text-align:left;
  	width:500px; 
  	position:relative; 
  	left:10%;
	white-space: pre-wrap;       /* css-3 */
	white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
	white-space: -pre-wrap;      /* Opera 4-6 */
	white-space: -o-pre-wrap;    /* Opera 7 */
	word-wrap: break-word;       /* Internet Explorer 5.5+ */
}
#your-result {
	font-size:30px; 
	font-weight:bold; 
	padding-top:100px; 
	padding-bottom:50px; 
	float:right;
	position: relative;
	right: 20%;
}
  </style>

  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <div align="center" style="text-align:center;">
  <div id="your-result"></div>
  <div style="float:left">
  <h2>Your Solution:</h2>
<pre id="their-solution" style="font-size:18px"></pre>
  <h2>Our Solution:</h2>
<pre id="our-solution" style="font-size:18px"></pre>
  </div>
 </div>
<script type="text/javascript">
	var answer = <%= @answer %>
	var oursolution = <%= @question.solution %>
	<% input_arr = @question.input.split("\r\n") %>
<% input_arr.each do | inp | %>

QUnit.test( "testing on `<%= inp %>` => ", function( assert ) {
  assert.equal( answer.apply(this,[<%= inp %>]), oursolution.apply(this,[<%= inp %>])), "what's up";
});

<% end %>

QUnit.done(function( details ) {
	  console.log( "Total: ", details.total, " Failed: ", details.failed, " Passed: ", details.passed, " Runtime: ", details.runtime );

	if(details.failed === 0){
		document.getElementById('your-result').innerHTML = "<a href='/questions/<%= @question.number %>/success/<%= @question.points %>'>Success!</a>"
	} else{
		document.getElementById('your-result').innerHTML = "<a href='/questions/<%= @question.number %>/failure/<%= @question.points %>'>Failed!</a>"
	}
	
	document.getElementById('our-solution').innerHTML = oursolution
	document.getElementById('their-solution').innerHTML = answer

});
</script>

